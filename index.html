<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Manager</title>
</head>
<body>
    <h1>Contact Manager</h1>
    <input type="text" id="search" placeholder="search by name or mobile "/> <br />
   <!-- <h2>My Contacts - <span id="title">0</span></h2> -->

    <h2>My Contacts - <span id="count">0</span></h2>
    <ul id="list">

    </ul>
    <script>
        const contacts = [
            { name: 'Chandra', mobile: '9963820050'},
            { name: 'Kalal', mobile: '9963821050'},
            { name: 'Chandu', mobile: '9963821050'},
            { name: 'shannu', mobile: '9953820050'},
        ]
        const searchHandle = document.getElementById('search');
        const countHandle = document.getElementById('count');
        const listHandle = document.querySelector('#list');

       // titleHandle.textContent = `My contacts - ${contacts.length}`;
      function liMaker(arr) {
          arr.forEach(function(ele){
              const liTag = document.createElement('li');
              liTag.textContent = `${ele.name} - ${ele.mobile}`
              listHandle.appendChild(liTag);
          })
      }
      liMaker(contacts);
      
      
        countHandle.textContent = contacts.length;
   


       /*
        contacts.forEach(function(ele){
            const liTag = document.createElement('li');
            liTag.textContent = `${ele.name} - ${ele.mobile}`
            listHandle.appendChild(liTag);
        });  */
        searchHandle.addEventListener('keyup', function(elem){
            const inputText = elem.target.value;
            const result = contacts.filter(function(ele){
                return ele.name.toLowerCase().includes(inputText.toLowerCase()) || ele.mobile.includes(inputText);
            });
            // clear out li's ie remove li tags
            listHandle.innerHTML = '';
            countHandle.textContent = result.length;
            liMaker(result);
             //   console.log(result);
            });
    </script>
</body>
</html>